(function(t){function e(e){for(var r,c,s=e[0],o=e[1],u=e[2],d=0,b=[];d<s.length;d++)c=s[d],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&b.push(i[c][0]),i[c]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);l&&l(e);while(b.length)b.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,s=1;s<n.length;s++){var o=n[s];0!==i[o]&&(r=!1)}r&&(a.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},i={app:0},a=[];function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=o;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"03a7":function(t,e,n){},"0a2e":function(t,e,n){},"0a34":function(t,e,n){"use strict";n("bbeb")},"0f47":function(t,e,n){},1435:function(t,e,n){"use strict";n("0a2e")},1962:function(t,e,n){"use strict";n("a6be")},"25ae":function(t,e,n){},"28af":function(t,e,n){"use strict";n("a984")},3872:function(t,e,n){"use strict";n("0f47")},"3b5d":function(t,e,n){},"3ec8":function(t,e,n){"use strict";n("cf1f")},"4cc9":function(t,e,n){"use strict";n("d8e2")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("d3b7"),n("3ca3"),n("ddb0");var r=n("f2bf"),i=n("6c02"),a=(n("a4d3"),n("e01a"),Object(r["i"])("h2",null,"Interested? Reach out now!",-1)),c=Object(r["j"])("Contact");function s(t,e,n,i,s,o){var u=Object(r["D"])("base-card"),l=Object(r["D"])("base-button"),d=Object(r["D"])("router-view"),b=Object(r["D"])("base-badge");return Object(r["v"])(),Object(r["h"])("div",null,[Object(r["i"])("section",null,[Object(r["k"])(u,null,{default:Object(r["L"])((function(){return[Object(r["i"])("h2",null,Object(r["G"])(o.fullName),1),Object(r["i"])("h3",null,"$"+Object(r["G"])(o.rate)+"/hour",1)]})),_:1})]),Object(r["i"])("section",null,[Object(r["k"])(u,null,{default:Object(r["L"])((function(){return[Object(r["i"])("header",null,[a,Object(r["k"])(l,{link:"",to:o.contactLink},{default:Object(r["L"])((function(){return[c]})),_:1},8,["to"])]),Object(r["k"])(d)]})),_:1})]),Object(r["i"])("section",null,[Object(r["k"])(u,null,{default:Object(r["L"])((function(){return[(Object(r["v"])(!0),Object(r["h"])(r["a"],null,Object(r["B"])(o.areas,(function(t){return Object(r["v"])(),Object(r["f"])(b,{key:t,type:t,title:t},null,8,["type","title"])})),128)),Object(r["i"])("p",null,Object(r["G"])(o.description),1)]})),_:1})])])}n("7db0");var o={props:["id"],data:function(){return{selectedArtist:null}},computed:{fullName:function(){return this.selectedArtist.firstName+" "+this.selectedArtist.lastName},areas:function(){return this.selectedArtist.areas},rate:function(){return this.selectedArtist.hourlyRate},description:function(){return this.selectedArtist.description},contactLink:function(){return this.$route.path+"/"+this.id+"/contact"}},created:function(){var t=this;this.selectedArtist=this.$store.getters["artists/artists"].find((function(e){return e.id===t.id}))}},u=n("6b0d"),l=n.n(u);const d=l()(o,[["render",s]]);var b=d,f={class:"controls"},j=Object(r["j"])("Refresh"),O=Object(r["j"])("Login to register as an artist"),m=Object(r["j"])("Register as Artist"),h={key:0},p={key:1},v={key:2};function g(t,e,n,i,a,c){var s=Object(r["D"])("base-dialog"),o=Object(r["D"])("artist-filter"),u=Object(r["D"])("base-button"),l=Object(r["D"])("base-spinner"),d=Object(r["D"])("artist-item"),b=Object(r["D"])("base-card");return Object(r["v"])(),Object(r["h"])("div",null,[Object(r["k"])(s,{show:!!a.error,title:"An Error Occured!",onClose:c.handleError},{default:Object(r["L"])((function(){return[Object(r["i"])("p",null,Object(r["G"])(a.error),1)]})),_:1},8,["show","onClose"]),Object(r["i"])("section",null,[Object(r["k"])(o,{onChangeFilter:c.setFilters},null,8,["onChangeFilter"])]),Object(r["i"])("section",null,[Object(r["k"])(b,null,{default:Object(r["L"])((function(){return[Object(r["i"])("div",f,[Object(r["k"])(u,{mode:"outline",onClick:e[0]||(e[0]=function(t){return c.loadArtists(!0)})},{default:Object(r["L"])((function(){return[j]})),_:1}),c.isLoggedIn?Object(r["g"])("",!0):(Object(r["v"])(),Object(r["f"])(u,{key:0,link:"",to:"/auth?redirect=register"},{default:Object(r["L"])((function(){return[O]})),_:1})),!c.isLoggedIn||c.isArtist||a.isLoading?Object(r["g"])("",!0):(Object(r["v"])(),Object(r["f"])(u,{key:1,link:"",to:"/register"},{default:Object(r["L"])((function(){return[m]})),_:1}))]),a.isLoading?(Object(r["v"])(),Object(r["h"])("div",h,[Object(r["k"])(l)])):c.hasArtists?(Object(r["v"])(),Object(r["h"])("ul",p,[(Object(r["v"])(!0),Object(r["h"])(r["a"],null,Object(r["B"])(c.filteredArtists,(function(t){return Object(r["v"])(),Object(r["f"])(d,{key:t.id,id:t.id,"first-name":t.firstName,"last-name":t.lastName,rate:t.hourlyRate,areas:t.areas},null,8,["id","first-name","last-name","rate","areas"])})),128))])):(Object(r["v"])(),Object(r["h"])("h3",v,"No artists found."))]})),_:1})])])}var k=n("1da1"),y=(n("96cf"),n("4de4"),n("caad"),n("2532"),{class:"actions"}),w=Object(r["j"])("Contact"),L=Object(r["j"])("View Details");function I(t,e,n,i,a,c){var s=Object(r["D"])("base-badge"),o=Object(r["D"])("base-button");return Object(r["v"])(),Object(r["h"])("li",null,[Object(r["i"])("h3",null,Object(r["G"])(c.fullName),1),Object(r["i"])("h4",null,"$"+Object(r["G"])(n.rate)+"/hour",1),Object(r["i"])("div",null,[(Object(r["v"])(!0),Object(r["h"])(r["a"],null,Object(r["B"])(n.areas,(function(t){return Object(r["v"])(),Object(r["f"])(s,{key:t,type:t,title:t},null,8,["type","title"])})),128))]),Object(r["i"])("div",y,[Object(r["k"])(o,{mode:"outline",link:"",to:c.artistContactLink},{default:Object(r["L"])((function(){return[w]})),_:1},8,["to"]),Object(r["k"])(o,{link:"",to:c.artistDetailsLink},{default:Object(r["L"])((function(){return[L]})),_:1},8,["to"])])])}var x={props:["id","firstName","lastName","rate","areas"],computed:{fullName:function(){return this.firstName+" "+this.lastName},artistContactLink:function(){return this.$route.path+"/"+this.id+"/contact"},artistDetailsLink:function(){return this.$route.path+"/"+this.id}}};n("1435");const A=l()(x,[["render",I],["__scopeId","data-v-dea71b56"]]);var _=A,V=function(t){return Object(r["y"])("data-v-34f551ca"),t=t(),Object(r["w"])(),t},R=V((function(){return Object(r["i"])("h2",null,"Find your artist",-1)})),q={class:"filter option"},D=V((function(){return Object(r["i"])("label",{for:"realistic"},"Realistic",-1)})),F={class:"filter option"},N=V((function(){return Object(r["i"])("label",{for:"anime"},"Anime",-1)})),C={class:"filter option"},$=V((function(){return Object(r["i"])("label",{for:"chibi"},"Chibi",-1)})),S={class:"filter option"},B=V((function(){return Object(r["i"])("label",{for:"mecha"},"Mecha",-1)}));function M(t,e,n,i,a,c){var s=Object(r["D"])("base-card");return Object(r["v"])(),Object(r["f"])(s,null,{default:Object(r["L"])((function(){return[R,Object(r["i"])("span",q,[Object(r["i"])("input",{type:"checkbox",id:"realistic",checked:"",onChange:e[0]||(e[0]=function(){return c.setFilter&&c.setFilter.apply(c,arguments)})},null,32),D]),Object(r["i"])("span",F,[Object(r["i"])("input",{type:"checkbox",id:"anime",checked:"",onChange:e[1]||(e[1]=function(){return c.setFilter&&c.setFilter.apply(c,arguments)})},null,32),N]),Object(r["i"])("span",C,[Object(r["i"])("input",{type:"checkbox",id:"chibi",checked:"",onChange:e[2]||(e[2]=function(){return c.setFilter&&c.setFilter.apply(c,arguments)})},null,32),$]),Object(r["i"])("span",S,[Object(r["i"])("input",{type:"checkbox",id:"mecha",checked:"",onChange:e[3]||(e[3]=function(){return c.setFilter&&c.setFilter.apply(c,arguments)})},null,32),B])]})),_:1})}var E=n("ade3"),U=n("5530"),P={emits:["change-filter"],data:function(){return{filters:{realistic:!0,anime:!0,chibi:!0,mecha:!0}}},methods:{setFilter:function(t){var e=t.target.id,n=t.target.checked,r=Object(U["a"])(Object(U["a"])({},this.filters),{},Object(E["a"])({},e,n));this.filters=r,this.$emit("change-filter",r)}}};n("3872");const T=l()(P,[["render",M],["__scopeId","data-v-34f551ca"]]);var G=T,J=["href"];function z(t,e,n,i,a,c){return Object(r["v"])(),Object(r["h"])("li",null,[Object(r["i"])("div",null,[Object(r["i"])("a",{href:c.emailLink},Object(r["G"])(n.email),9,J)]),Object(r["i"])("p",null,Object(r["G"])(n.message),1)])}var H={props:["email","message"],computed:{emailLink:function(){return"mailto:"+this.email}}};n("bdac");const Q=l()(H,[["render",z],["__scopeId","data-v-7b97167e"]]);var Y=Q,Z=n("ae92");n("9911");function W(t,e,n,i,a,c){var s=Object(r["D"])("router-link");return n.link?(Object(r["v"])(),Object(r["f"])(s,{key:1,to:n.to,class:Object(r["r"])(n.mode)},{default:Object(r["L"])((function(){return[Object(r["C"])(t.$slots,"default",{},void 0,!0)]})),_:3},8,["to","class"])):(Object(r["v"])(),Object(r["h"])("button",{key:0,class:Object(r["r"])(n.mode)},[Object(r["C"])(t.$slots,"default",{},void 0,!0)],2))}var K={props:{mode:{type:String,required:!1,default:null},link:{type:Boolean,required:!1,default:!1},to:{type:String,required:!1,default:"/"}}};n("cf4d");const X=l()(K,[["render",W],["__scopeId","data-v-2b151212"]]);var tt=X,et={components:{ArtistItem:_,ArtistFilter:G,RequestItem:Y,BaseDialog:Z["default"],BaseButton:tt},data:function(){return{isLoading:!1,error:null,activeFilters:{anime:!0,realistic:!0,mecha:!0,chibi:!0}}},computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated},isArtist:function(){return this.$store.getters["artists/isArtist"]},filteredArtists:function(){var t=this,e=this.$store.getters["artists/artists"];return e.filter((function(e){return!(!t.activeFilters.anime||!e.areas.includes("anime"))||(!(!t.activeFilters.realistic||!e.areas.includes("realistic"))||(!(!t.activeFilters.chibi||!e.areas.includes("chibi"))||!(!t.activeFilters.mecha||!e.areas.includes("mecha"))))}))},hasArtists:function(){return!this.isLoading&&this.$store.getters["artists/hasArtists"]}},created:function(){this.loadArtists()},methods:{setFilters:function(t){this.activeFilters=t},loadArtists:function(){var t=arguments,e=this;return Object(k["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.length>0&&void 0!==t[0]&&t[0],e.isLoading=!0,n.prev=2,n.next=5,e.$store.dispatch("artists/loadArtists",{forceRefresh:r});case 5:n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](2),e.error=n.t0.message||"Something went wrong!";case 10:e.isLoading=!1;case 11:case"end":return n.stop()}}),n,null,[[2,7]])})))()},handleError:function(){this.error=null}}};n("9c0e");const nt=l()(et,[["render",g],["__scopeId","data-v-3f57de82"]]);var rt=nt,it=Object(r["i"])("h2",null,"Register as an Artist now!",-1);function at(t,e,n,i,a,c){var s=Object(r["D"])("artist-form"),o=Object(r["D"])("base-card");return Object(r["v"])(),Object(r["h"])("div",null,[Object(r["i"])("section",null,[Object(r["k"])(o,null,{default:Object(r["L"])((function(){return[it,Object(r["k"])(s,{onSaveData:c.saveData},null,8,["onSaveData"])]})),_:1})])])}n("ac1f"),n("5319");var ct=function(t){return Object(r["y"])("data-v-9d5ea64e"),t=t(),Object(r["w"])(),t},st=ct((function(){return Object(r["i"])("label",{for:"firstname"},"First Name",-1)})),ot={key:0},ut=ct((function(){return Object(r["i"])("label",{for:"lastname"},"Last Name",-1)})),lt={key:0},dt=ct((function(){return Object(r["i"])("label",{for:"description"},"Description",-1)})),bt={key:0},ft=ct((function(){return Object(r["i"])("label",{for:"rate"},"Hourly Rate",-1)})),jt={key:0},Ot=ct((function(){return Object(r["i"])("h3",null,"Areas of Expertise",-1)})),mt=ct((function(){return Object(r["i"])("label",{for:"realistic"},"Realistic",-1)})),ht=ct((function(){return Object(r["i"])("label",{for:"anime"},"Anime",-1)})),pt=ct((function(){return Object(r["i"])("label",{for:"chibi"},"Chibi",-1)})),vt=ct((function(){return Object(r["i"])("label",{for:"mecha"},"Mecha",-1)})),gt={key:0},kt={key:0},yt=Object(r["j"])("Register");function wt(t,e,n,i,a,c){var s=Object(r["D"])("base-button");return Object(r["v"])(),Object(r["h"])("div",null,[Object(r["i"])("form",{onSubmit:e[16]||(e[16]=Object(r["N"])((function(){return c.submitForm&&c.submitForm.apply(c,arguments)}),["prevent"]))},[Object(r["i"])("div",{class:Object(r["r"])(["form-control",{invalid:!a.firstName.isValid}])},[st,Object(r["M"])(Object(r["i"])("input",{type:"text",id:"firstname","onUpdate:modelValue":e[0]||(e[0]=function(t){return a.firstName.val=t}),onBlur:e[1]||(e[1]=function(t){return c.clearValidity("firstName")})},null,544),[[r["J"],a.firstName.val,void 0,{trim:!0}]]),a.firstName.isValid?Object(r["g"])("",!0):(Object(r["v"])(),Object(r["h"])("p",ot,"First name must not be empty"))],2),Object(r["i"])("div",{class:Object(r["r"])(["form-control",{invalid:!a.lastName.isValid}])},[ut,Object(r["M"])(Object(r["i"])("input",{type:"text",id:"lastname","onUpdate:modelValue":e[2]||(e[2]=function(t){return a.lastName.val=t}),onBlur:e[3]||(e[3]=function(t){return c.clearValidity("lastName")})},null,544),[[r["J"],a.lastName.val,void 0,{trim:!0}]]),a.lastName.isValid?Object(r["g"])("",!0):(Object(r["v"])(),Object(r["h"])("p",lt,"Last name must not be empty"))],2),Object(r["i"])("div",{class:Object(r["r"])(["form-control",{invalid:!a.description.isValid}])},[dt,Object(r["M"])(Object(r["i"])("textarea",{id:"description",rows:"5","onUpdate:modelValue":e[4]||(e[4]=function(t){return a.description.val=t}),onBlur:e[5]||(e[5]=function(t){return c.clearValidity("description")})},null,544),[[r["J"],a.description.val,void 0,{trim:!0}]]),a.description.isValid?Object(r["g"])("",!0):(Object(r["v"])(),Object(r["h"])("p",bt,"description must not be empty"))],2),Object(r["i"])("div",{class:Object(r["r"])(["form-control",{invalid:!a.rate.isValid}])},[ft,Object(r["M"])(Object(r["i"])("input",{type:"number",id:"rate","onUpdate:modelValue":e[6]||(e[6]=function(t){return a.rate.val=t}),onBlur:e[7]||(e[7]=function(t){return c.clearValidity("rate")})},null,544),[[r["J"],a.rate.val,void 0,{number:!0}]]),a.description.isValid?Object(r["g"])("",!0):(Object(r["v"])(),Object(r["h"])("p",jt,"Rate must be greater than 0."))],2),Object(r["i"])("div",{class:Object(r["r"])(["form-control",{invalid:!a.areas.isValid}])},[Ot,Object(r["i"])("div",null,[Object(r["M"])(Object(r["i"])("input",{type:"checkbox",id:"realistic",value:"realistic","onUpdate:modelValue":e[8]||(e[8]=function(t){return a.areas.val=t}),onBlur:e[9]||(e[9]=function(t){return c.clearValidity("areas")})},null,544),[[r["I"],a.areas.val]]),mt]),Object(r["i"])("div",null,[Object(r["M"])(Object(r["i"])("input",{type:"checkbox",id:"anime",value:"anime","onUpdate:modelValue":e[10]||(e[10]=function(t){return a.areas.val=t}),onBlur:e[11]||(e[11]=function(t){return c.clearValidity("areas")})},null,544),[[r["I"],a.areas.val]]),ht]),Object(r["i"])("div",null,[Object(r["M"])(Object(r["i"])("input",{type:"checkbox",id:"chibi",value:"chibi","onUpdate:modelValue":e[12]||(e[12]=function(t){return a.areas.val=t}),onBlur:e[13]||(e[13]=function(t){return c.clearValidity("areas")})},null,544),[[r["I"],a.areas.val]]),pt]),Object(r["i"])("div",null,[Object(r["M"])(Object(r["i"])("input",{type:"checkbox",id:"mecha",value:"mecha","onUpdate:modelValue":e[14]||(e[14]=function(t){return a.areas.val=t}),onBlur:e[15]||(e[15]=function(t){return c.clearValidity("areas")})},null,544),[[r["I"],a.areas.val]]),vt]),a.areas.isValid?Object(r["g"])("",!0):(Object(r["v"])(),Object(r["h"])("p",gt,"At least one expertise must be selected."))],2),a.formIsValid?Object(r["g"])("",!0):(Object(r["v"])(),Object(r["h"])("p",kt,"Please fix the above erros and submit again")),Object(r["k"])(s,null,{default:Object(r["L"])((function(){return[yt]})),_:1})],32)])}var Lt={emits:["save-data"],data:function(){return{firstName:{val:"",isValid:!0},lastName:{val:"",isValid:!0},description:{val:"",isValid:!0},rate:{val:null,isValid:!0},areas:{val:[],isValid:!0},formIsValid:!0}},methods:{clearValidity:function(t){this[t].isValid=!0},validateForm:function(){this.formIsValid=!0,""===this.firstName.val&&(this.firstName.isValid=!1,this.formIsValid=!1),""===this.lastName.val&&(this.lastName.isValid=!1,this.formIsValid=!1),""===this.description.val&&(this.description.isValid=!1,this.formIsValid=!1),(!this.rate.val||this.rate.val<0)&&(this.rate.isValid=!1,this.formIsValid=!1),0===this.areas.val.length&&(this.areas.isValid=!1,this.formIsValid=!1)},submitForm:function(){if(this.validateForm(),this.formIsValid){var t={first:this.firstName.val,last:this.lastName.val,desc:this.description.val,rate:this.rate.val,areas:this.areas.val};this.$emit("save-data",t)}}}};n("a55d");const It=l()(Lt,[["render",wt],["__scopeId","data-v-9d5ea64e"]]);var xt=It,At={components:{ArtistForm:xt},methods:{saveData:function(t){this.$store.dispatch("artists/registerArtist",t),this.$router.replace("/artists")}}};const _t=l()(At,[["render",at]]);var Vt=_t,Rt=function(t){return Object(r["y"])("data-v-57d597e6"),t=t(),Object(r["w"])(),t},qt={class:"form-control"},Dt=Rt((function(){return Object(r["i"])("label",{for:"email"},"Your E-mail",-1)})),Ft={class:"form-control"},Nt=Rt((function(){return Object(r["i"])("label",{for:"message"},"Message",-1)})),Ct={key:0,class:"errors"},$t={class:"actions"},St=Object(r["j"])("Send Message");function Bt(t,e,n,i,a,c){var s=Object(r["D"])("base-button");return Object(r["v"])(),Object(r["h"])("div",null,[Object(r["i"])("form",{onSubmit:e[2]||(e[2]=Object(r["N"])((function(){return c.submitForm&&c.submitForm.apply(c,arguments)}),["prevent"]))},[Object(r["i"])("div",qt,[Dt,Object(r["M"])(Object(r["i"])("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=function(t){return a.email=t})},null,512),[[r["J"],a.email,void 0,{trim:!0}]])]),Object(r["i"])("div",Ft,[Nt,Object(r["M"])(Object(r["i"])("textarea",{rows:"5",id:"message","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.message=t})},null,512),[[r["J"],a.message,void 0,{trim:!0}]])]),a.formIsValid?Object(r["g"])("",!0):(Object(r["v"])(),Object(r["h"])("p",Ct,"Please enter a valid email and non-empty message")),Object(r["i"])("div",$t,[Object(r["k"])(s,null,{default:Object(r["L"])((function(){return[St]})),_:1})])],32)])}var Mt={data:function(){return{email:"",message:"",formIsValid:!0}},methods:{submitForm:function(){this.formIsValid=!0,""!==this.email&&this.email.includes("@")&&""!==this.message?(this.$store.dispatch("requests/contactArtist",{email:this.email,message:this.message,artistId:this.$route.params.id}),this.$router.replace("/artists")):this.formIsValid=!1}}};n("94aa");const Et=l()(Mt,[["render",Bt],["__scopeId","data-v-57d597e6"]]);var Ut=Et,Pt=function(t){return Object(r["y"])("data-v-18448a35"),t=t(),Object(r["w"])(),t},Tt=Pt((function(){return Object(r["i"])("header",null,[Object(r["i"])("h2",null,"Requests Received")],-1)})),Gt={key:1},Jt={key:2};function zt(t,e,n,i,a,c){var s=Object(r["D"])("base-dialog"),o=Object(r["D"])("base-spinner"),u=Object(r["D"])("request-item"),l=Object(r["D"])("base-card");return Object(r["v"])(),Object(r["h"])("div",null,[Object(r["k"])(s,{show:!!a.error,title:"An error occurred!",onClose:c.handleError},{default:Object(r["L"])((function(){return[Object(r["i"])("p",null,Object(r["G"])(a.error),1)]})),_:1},8,["show","onClose"]),Object(r["i"])("section",null,[Object(r["k"])(l,null,{default:Object(r["L"])((function(){return[Tt,a.isLoading?(Object(r["v"])(),Object(r["f"])(o,{key:0})):c.hasRequests&&!a.isLoading?(Object(r["v"])(),Object(r["h"])("ul",Gt,[(Object(r["v"])(!0),Object(r["h"])(r["a"],null,Object(r["B"])(c.receivedRequests,(function(t){return Object(r["v"])(),Object(r["f"])(u,{key:t.id,email:t.userEmail,message:t.message},null,8,["email","message"])})),128))])):(Object(r["v"])(),Object(r["h"])("h3",Jt,"You haven't Received any requests yet!"))]})),_:1})])])}var Ht=function(t){return Object(r["y"])("data-v-5147169a"),t=t(),Object(r["w"])(),t},Qt={class:"spinner"},Yt=Ht((function(){return Object(r["i"])("div",{class:"lds-roller"},[Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div")],-1)})),Zt=[Yt];function Wt(t,e){return Object(r["v"])(),Object(r["h"])("div",Qt,Zt)}n("3ec8");const Kt={},Xt=l()(Kt,[["render",Wt],["__scopeId","data-v-5147169a"]]);var te=Xt,ee={components:{RequestItem:Y,BaseDialog:Z["default"],BaseSpinner:te},data:function(){return{isLoading:!1,error:null}},computed:{receivedRequests:function(){return this.$store.getters["requests/requests"]},hasRequests:function(){return this.$store.getters["requests/hasRequests"]}},created:function(){this.loadRequests()},methods:{loadRequests:function(){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,t.$store.dispatch("requests/fetchRequests");case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),t.error=e.t0.message||"Something failed!";case 9:t.isLoading=!1;case 11:case"end":return e.stop()}}),e,null,[[1,6]])})))()},handleError:function(){this.error=null}}};n("28af");const ne=l()(ee,[["render",zt],["__scopeId","data-v-18448a35"]]);var re=ne,ie=Object(r["i"])("h2",null,"Page not found",-1),ae=Object(r["j"])("Page could not be found - maybe check out all our "),ce=Object(r["j"])(" artists ");function se(t,e){var n=Object(r["D"])("router-link"),i=Object(r["D"])("base-card");return Object(r["v"])(),Object(r["h"])("section",null,[Object(r["k"])(i,null,{default:Object(r["L"])((function(){return[ie,Object(r["i"])("p",null,[ae,Object(r["k"])(n,{to:"/artists"},{default:Object(r["L"])((function(){return[ce]})),_:1})])]})),_:1})])}const oe={},ue=l()(oe,[["render",se]]);var le=ue,de=function(t){return Object(r["y"])("data-v-def7fb82"),t=t(),Object(r["w"])(),t},be={class:"form-control"},fe=de((function(){return Object(r["i"])("label",{for:"email"},"E-Mail",-1)})),je={class:"form-control"},Oe=de((function(){return Object(r["i"])("label",{for:"password"},"Password",-1)})),me={key:0};function he(t,e,n,i,a,c){var s=Object(r["D"])("base-dialog"),o=Object(r["D"])("base-spinner"),u=Object(r["D"])("base-button"),l=Object(r["D"])("base-card");return Object(r["v"])(),Object(r["h"])("div",null,[Object(r["k"])(s,{show:!!a.error,title:"An error occured",onClose:c.handleError},{default:Object(r["L"])((function(){return[Object(r["i"])("p",null,Object(r["G"])(a.error),1)]})),_:1},8,["show","onClose"]),Object(r["k"])(s,{show:a.isLoading,title:"Authenticating...",fixed:""},{default:Object(r["L"])((function(){return[Object(r["k"])(o)]})),_:1},8,["show"]),Object(r["k"])(l,null,{default:Object(r["L"])((function(){return[Object(r["i"])("form",{onSubmit:e[2]||(e[2]=Object(r["N"])((function(){return c.submitForm&&c.submitForm.apply(c,arguments)}),["prevent"]))},[Object(r["i"])("div",be,[fe,Object(r["M"])(Object(r["i"])("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=function(e){return t.email=e})},null,512),[[r["J"],t.email,void 0,{trim:!0}]])]),Object(r["i"])("div",je,[Oe,Object(r["M"])(Object(r["i"])("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.password=t})},null,512),[[r["J"],a.password,void 0,{trim:!0}]])]),a.formIsValid?Object(r["g"])("",!0):(Object(r["v"])(),Object(r["h"])("p",me," Please enter a valid email and password (must be at least 6 characters long). ")),Object(r["k"])(u,null,{default:Object(r["L"])((function(){return[Object(r["j"])(Object(r["G"])(c.submitButtonCaption),1)]})),_:1}),Object(r["k"])(u,{type:"button",mode:"flat",onClick:c.switchAuthMode},{default:Object(r["L"])((function(){return[Object(r["j"])(Object(r["G"])(c.switchModeButtonCaption),1)]})),_:1},8,["onClick"])],32)]})),_:1})])}var pe={data:function(){return{password:"",formIsValid:!0,mode:"login",isLoading:!1,error:null}},computed:{submitButtonCaption:function(){return"login"===this.mode?"Login":"Signup"},switchModeButtonCaption:function(){return"login"===this.mode?"Signup instead":"Login instead"}},methods:{submitForm:function(){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.formIsValid=!0,""!==t.email&&t.email.includes("@")&&!(t.password.length<6)){e.next=4;break}return t.formIsValid=!1,e.abrupt("return");case 4:if(t.isLoading=!0,n={email:t.email,password:t.password},e.prev=6,"login"!==t.mode){e.next=12;break}return e.next=10,t.$store.dispatch("login",n);case 10:e.next=14;break;case 12:return e.next=14,t.$store.dispatch("signup",n);case 14:r="/"+(t.$route.query.redirect||"artists"),t.$router.replace(r),e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](6),t.error=e.t0.message||"Failed to authenticated. Check your login data.";case 21:t.isLoading=!1;case 22:case"end":return e.stop()}}),e,null,[[6,18]])})))()},switchAuthMode:function(){"login"===this.mode?this.mode="signup":this.mode="login"},handleError:function(){this.error=null}}};n("9391");const ve=l()(pe,[["render",he],["__scopeId","data-v-def7fb82"]]);var ge,ke=ve,ye=n("5502"),we={registerArtist:function(t,e){t.artists.push(e)},setArtists:function(t,e){t.artists=e},setFetchTimestamp:function(t){t.lastFetch=(new Date).getTime()}},Le={registerArtist:function(t,e){return Object(k["a"])(regeneratorRuntime.mark((function n(){var r,i,a,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.rootGetters.userId,i={firstName:e.first,lastName:e.last,description:e.desc,hourlyRate:e.rate,areas:e.areas},a=t.rootGetters.token,n.next=5,fetch("https://find-artist-d3495-default-rtdb.firebaseio.com/artists/".concat(r,".json?auth=")+a,{method:"PUT",body:JSON.stringify(i)});case 5:c=n.sent,c.ok,t.commit("registerArtist",Object(U["a"])(Object(U["a"])({},i),{},{id:r}));case 8:case"end":return n.stop()}}),n)})))()},loadArtists:function(t,e){return Object(k["a"])(regeneratorRuntime.mark((function n(){var r,i,a,c,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.forceRefresh||t.getters.shouldUpdate){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,fetch("https://find-artist-d3495-default-rtdb.firebaseio.com/artists/.json");case 4:return r=n.sent,n.next=7,r.json();case 7:if(i=n.sent,r.ok){n.next=11;break}throw a=new Error(i.message||"Failed to fetch!"),a;case 11:for(s in c=[],i)o={id:s,firstName:i[s].firstName,lastName:i[s].lastName,description:i[s].description,hourlyRate:i[s].hourlyRate,areas:i[s].areas},c.push(o);t.commit("setArtists",c),t.commit("setFetchTimestamp");case 15:case"end":return n.stop()}}),n)})))()}},Ie={artists:function(t){return t.artists},hasArtists:function(t){return t.artists&&t.artists.length>0},isArtist:function(t,e,n,r){var i=e.artists,a=r.userId;return i.some((function(t){return t.id===a}))},shouldUpdate:function(t){var e=t.lastFetch;if(!e)return!0;var n=(new Date).getTime();return(n-e)/1e3>60}},xe={namespaced:!0,state:function(){return{lastFetch:null,artists:[{id:"a1",firstName:"Maxi",lastName:"Rock",areas:["realistic","mecha"],description:"Text about artist goes here.",hourlyRate:30},{id:"a2",firstName:"Justo",lastName:"Jeans",areas:["anime","chibi","mecha","realistic"],description:"Text about artist goes here.",hourlyRate:30}]}},mutations:we,actions:Le,getters:Ie},Ae={addRequest:function(t,e){t.requests.push(e)},setRequests:function(t,e){t.requests=e}},_e=(n("b0c0"),{contactArtist:function(t,e){return Object(k["a"])(regeneratorRuntime.mark((function n(){var r,i,a,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={userEmail:e.email,message:e.message},n.next=3,fetch("https://find-artist-d3495-default-rtdb.firebaseio.com/requests/".concat(e.artistId,".json"),{method:"POST",body:JSON.stringify(r)});case 3:return i=n.sent,n.next=6,i.json();case 6:if(a=n.sent,i.ok){n.next=10;break}throw c=new Error(a.message||"Failed to send request."),c;case 10:r.id=a.name,r.artistId=e.artistId,t.commit("addRequest",r);case 13:case"end":return n.stop()}}),n)})))()},fetchRequests:function(t){return Object(k["a"])(regeneratorRuntime.mark((function e(){var n,r,i,a,c,s,o,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.rootGetters.userId,r=t.rootGetters.token,e.next=4,fetch("https://find-artist-d3495-default-rtdb.firebaseio.com/requests/".concat(n,".json?auth=")+r);case 4:return i=e.sent,e.next=7,i.json();case 7:if(a=e.sent,i.ok){e.next=11;break}throw c=new Error(a.message||"Failed to fetch requests."),c;case 11:for(o in s=[],a)u={id:o,artistId:n,userEmail:a[o].userEmail,message:a[o].message},s.push(u);t.commit("setRequests",s);case 14:case"end":return e.stop()}}),e)})))()}}),Ve={requests:function(t,e,n,r){var i=r.userId;return t.requests.filter((function(t){return t.artistId===i}))},hasRequests:function(t,e){return e.requests&&e.requests.length>0}},Re={namespaced:!0,state:function(){return{requests:[]}},mutations:Ae,actions:_e,getters:Ve},qe={setUser:function(t,e){t.token=e.token,t.userId=e.userId,t.didAutoLogout=!1},setAutoLogout:function(t){t.didAutoLogout=!0}},De={login:function(t,e){return Object(k["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",t.dispatch("auth",Object(U["a"])(Object(U["a"])({},e),{},{mode:"login"})));case 1:case"end":return n.stop()}}),n)})))()},signup:function(t,e){return Object(k["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",t.dispatch("auth",Object(U["a"])(Object(U["a"])({},e),{},{mode:"signup"})));case 1:case"end":return n.stop()}}),n)})))()},auth:function(t,e){return Object(k["a"])(regeneratorRuntime.mark((function n(){var r,i,a,c,s,o,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.mode,i="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDFomxqpEnQl6BEzBtwZFMNbxDfIHPg-n0","signup"===r&&(i="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDFomxqpEnQl6BEzBtwZFMNbxDfIHPg-n0"),n.next=5,fetch(i,{method:"POST",body:JSON.stringify({email:e.email,password:e.password,returnSecureToken:!0})});case 5:return a=n.sent,n.next=8,a.json();case 8:if(c=n.sent,a.ok){n.next=12;break}throw s=new Error(c.message||"Failed to authenticate."),s;case 12:o=1e3*+c.expiresIn,u=(new Date).getTime()+o,localStorage.setItem("token",c.idToken),localStorage.setItem("userId",c.localId),localStorage.setItem("tokenExpiration",u),ge=setTimeout((function(){t.dispatch("autoLogout")}),o),t.commit("setUser",{token:c.idToken,userId:c.localId});case 19:case"end":return n.stop()}}),n)})))()},tryLogin:function(t){var e=localStorage.getItem("token"),n=localStorage.getItem("userId"),r=localStorage.getItem("tokenExpiration"),i=+r-(new Date).getTime();i<0||(ge=setTimeout((function(){t.dispatch("autoLogout")}),i),e&&n&&t.commit("setUser",{token:e,userId:n}))},logout:function(t){localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("tokenExpiration"),clearTimeout(ge),t.commit("setUser",{token:null,userId:null})},autoLogout:function(t){t.dispatch("logout"),t.commit("setAutoLogout")}},Fe={userId:function(t){return t.userId},token:function(t){return t.token},isAuthenticated:function(t){return!!t.token},didAutoLogout:function(t){return t.didAutoLogout}},Ne={state:function(){return{userId:null,token:null,didAutoLogout:!1}},mutations:qe,actions:De,getters:Fe},Ce=Object(ye["a"])({modules:{artists:xe,requests:Re,auth:Ne}}),$e=Ce,Se=Object(i["a"])({history:Object(i["b"])(),routes:[{path:"/",redirect:"/artists"},{path:"/artists",component:rt},{path:"/artists/:id",component:b,props:!0,children:[{path:"contact",component:Ut}]},{path:"/register",component:Vt,meta:{requiresAuth:!0}},{path:"/requests",component:re,meta:{requiresAuth:!0}},{path:"/auth",component:ke,meta:{requiresUnauth:!0}},{path:"/:notFound(.*)",component:le}]});Se.beforeEach((function(t,e,n){t.meta.requiresAuth&&!$e.getters.isAuthenticated?n("/auth"):t.meta.requiresUnauth&&$e.getters.isAuthenticated?n("/artists"):n()}));var Be=Se;function Me(t,e,n,i,a,c){var s=Object(r["D"])("the-header"),o=Object(r["D"])("router-view");return Object(r["v"])(),Object(r["h"])(r["a"],null,[Object(r["k"])(s),Object(r["k"])(o,null,{default:Object(r["L"])((function(t){return[Object(r["k"])(r["c"],{name:"route",mode:"out-in"},{default:Object(r["L"])((function(){return[(Object(r["v"])(),Object(r["f"])(Object(r["E"])(t.Component)))]})),_:2},1024)]})),_:1})],64)}var Ee=Object(r["j"])("Find An Artist"),Ue=Object(r["j"])("All Artists"),Pe={key:0},Te=Object(r["j"])("Requests"),Ge={key:1},Je=Object(r["j"])("Login"),ze={key:2},He=Object(r["j"])("Logout");function Qe(t,e,n,i,a,c){var s=Object(r["D"])("router-link"),o=Object(r["D"])("base-button");return Object(r["v"])(),Object(r["h"])("header",null,[Object(r["i"])("nav",null,[Object(r["i"])("h1",null,[Object(r["k"])(s,{to:"/"},{default:Object(r["L"])((function(){return[Ee]})),_:1})]),Object(r["i"])("ul",null,[Object(r["i"])("li",null,[Object(r["k"])(s,{to:"/artists"},{default:Object(r["L"])((function(){return[Ue]})),_:1})]),c.isLoggedIn?(Object(r["v"])(),Object(r["h"])("li",Pe,[Object(r["k"])(s,{to:"/requests"},{default:Object(r["L"])((function(){return[Te]})),_:1})])):(Object(r["v"])(),Object(r["h"])("li",Ge,[Object(r["k"])(s,{to:"/auth"},{default:Object(r["L"])((function(){return[Je]})),_:1})])),c.isLoggedIn?(Object(r["v"])(),Object(r["h"])("li",ze,[Object(r["k"])(o,{onClick:c.logout},{default:Object(r["L"])((function(){return[He]})),_:1},8,["onClick"])])):Object(r["g"])("",!0)])])])}var Ye={computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated}},methods:{logout:function(){this.$store.dispatch("logout"),this.$router.replace("/artists")}}};n("0a34");const Ze=l()(Ye,[["render",Qe],["__scopeId","data-v-195bc927"]]);var We=Ze,Ke={components:{TheHeader:We},computed:{didAutoLogout:function(){return this.$store.getters.didAutoLogout}},created:function(){this.$store.dispatch("tryLogin")},watch:{didAutoLogout:function(t,e){t&&t!==e&&this.$router.replace("/artists")}}};n("d3ed");const Xe=l()(Ke,[["render",Me]]);var tn=Xe,en={class:"card"};function nn(t,e){return Object(r["v"])(),Object(r["h"])("div",en,[Object(r["C"])(t.$slots,"default",{},void 0,!0)])}n("4cc9");const rn={},an=l()(rn,[["render",nn],["__scopeId","data-v-1f9750d9"]]);var cn=an;function sn(t,e,n,i,a,c){return Object(r["v"])(),Object(r["h"])("span",{class:Object(r["r"])(["badge",n.type])},Object(r["G"])(c.text),3)}var on={props:["type","title"],computed:{text:function(){return this.title.toUpperCase()}}};n("d172");const un=l()(on,[["render",sn],["__scopeId","data-v-68ca7ce7"]]);var ln=un,dn=Object(r["l"])((function(){return Promise.resolve().then(n.bind(null,"ae92"))})),bn=Object(r["e"])(tn);bn.use(Be),bn.use($e),bn.component("base-card",cn),bn.component("base-button",tt),bn.component("base-badge",ln),bn.component("base-spinner",te),bn.component("base-dialog",dn),bn.mount("#app")},"5cc6":function(t,e,n){},9200:function(t,e,n){},9391:function(t,e,n){"use strict";n("ece6")},"94aa":function(t,e,n){"use strict";n("25ae")},"9c0e":function(t,e,n){"use strict";n("5cc6")},a55d:function(t,e,n){"use strict";n("03a7")},a6be:function(t,e,n){},a984:function(t,e,n){},ae92:function(t,e,n){"use strict";n.r(e);n("c7cd");var r=n("f2bf"),i={key:0,open:""},a={key:0},c=Object(r["j"])("Close");function s(t,e,n,s,o,u){var l=Object(r["D"])("base-button");return Object(r["v"])(),Object(r["f"])(r["b"],{to:"body"},[n.show?(Object(r["v"])(),Object(r["h"])("div",{key:0,onClick:e[0]||(e[0]=function(){return u.tryClose&&u.tryClose.apply(u,arguments)}),class:"backdrop"})):Object(r["g"])("",!0),Object(r["k"])(r["c"],{name:"dialog"},{default:Object(r["L"])((function(){return[n.show?(Object(r["v"])(),Object(r["h"])("dialog",i,[Object(r["i"])("header",null,[Object(r["C"])(t.$slots,"header",{},(function(){return[Object(r["i"])("h2",null,Object(r["G"])(n.title),1)]}),!0)]),Object(r["i"])("section",null,[Object(r["C"])(t.$slots,"default",{},void 0,!0)]),n.fixed?Object(r["g"])("",!0):(Object(r["v"])(),Object(r["h"])("menu",a,[Object(r["C"])(t.$slots,"actions",{},(function(){return[Object(r["k"])(l,{onClick:u.tryClose},{default:Object(r["L"])((function(){return[c]})),_:1},8,["onClick"])]}),!0)]))])):Object(r["g"])("",!0)]})),_:3})])}var o={props:{show:{type:Boolean,required:!0},title:{type:String,required:!1},fixed:{type:Boolean,required:!1,default:!1}},emits:["close"],methods:{tryClose:function(){this.fixed||this.$emit("close")}}},u=(n("1962"),n("6b0d")),l=n.n(u);const d=l()(o,[["render",s],["__scopeId","data-v-b7672b7c"]]);e["default"]=d},bb7b:function(t,e,n){},bbeb:function(t,e,n){},bdac:function(t,e,n){"use strict";n("bb7b")},c8ed:function(t,e,n){},cf1f:function(t,e,n){},cf4d:function(t,e,n){"use strict";n("3b5d")},d172:function(t,e,n){"use strict";n("c8ed")},d3ed:function(t,e,n){"use strict";n("9200")},d8e2:function(t,e,n){},ece6:function(t,e,n){}});
//# sourceMappingURL=app.550e9534.js.map